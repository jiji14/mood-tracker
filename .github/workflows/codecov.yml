name: codecov
on: 
  pull_request:

jobs:
  run-codecov:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Upload coverage reports to Codecov
        uses: codecov/codecov-action@v3
        env:
          CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
        with:
          comment:                  # this is a top-level key
            layout: " diff, flags, files"
            behavior: default
            require_changes: false  # if true: only post the comment if coverage changes
            require_base: false        # [true :: must have a base report to post]
            require_head: true       # [true :: must have a head report to post]
            hide_project_coverage: false # [true :: only show coverage on the git diff]
        
